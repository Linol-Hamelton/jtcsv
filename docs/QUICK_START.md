# ‚ö° –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï –î–õ–Ø –ü–†–û–ì–†–ê–ú–ú–ò–°–¢–ê
Current version: 3.1.0


**–ß–∏—Ç–∞–π —ç—Ç–æ –ø–µ—Ä–≤—ã–º!** (5 –º–∏–Ω—É—Ç)

---

## üéØ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨?

–î–æ–±–∞–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫ jtcsv (Node.js –±–∏–±–ª–∏–æ—Ç–µ–∫–µ JSON‚ÜîCSV).

**–°–µ–π—á–∞—Å**: –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Node.js)  
**–ù—É–∂–Ω–æ**: –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ (–±—Ä–∞—É–∑–µ—Ä, SaaS, –º–æ–±–∏–ª—å)

---

## ‚è±Ô∏è –°–ö–û–õ–¨–ö–û –í–†–ï–ú–ï–ù–ò?

**5-7 –¥–Ω–µ–π** (35-50 —á–∞—Å–æ–≤)

```
–î–µ–Ω—å 1-2: Rollup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è + —É–¥–∞–ª–µ–Ω–∏–µ fs/path (8 —á–∞—Å–æ–≤)
–î–µ–Ω—å 3-4: –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ + —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (16 —á–∞—Å–æ–≤)
–î–µ–Ω—å 5:   NPM –ø—É–±–ª–∏–∫–∞—Ü–∏—è (4 —á–∞—Å–∞)
–î–µ–Ω—å 6-7: Web Workers (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```

---

## üí∞ –ó–ê–ß–ï–ú –≠–¢–û?

- üìà –†—ã–Ω–æ–∫ —Ä–∞—Å—Ç—ë—Ç —Å 100K –Ω–∞ 2M —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (+20x)
- üíµ ROI 600%+ (–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤–µ—Ä–Ω—ë—Ç—Å—è –∑–∞ 2-3 –º–µ—Å—è—Ü–∞)
- üèÜ –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: CSV Injection Protection (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç PapaParse —ç—Ç–æ–≥–æ –Ω–µ –∏–º–µ–µ—Ç!)
- üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω—É–∂–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ CSV (–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å, —Å–∫–æ—Ä–æ—Å—Ç—å)

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò –ß–¢–û –ù–£–ñ–ù–û?

### –®–∞–≥ 1: Rollup Setup (2 —á–∞—Å–∞)
```bash
npm install --save-dev rollup @rollup/plugin-node-resolve
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å rollup.config.mjs –∏–∑ –¢–ó
npm run build
```

### –®–∞–≥ 2: –£–¥–∞–ª–∏—Ç—å Node.js API (2 —á–∞—Å–∞)
–í—Å–µ–≥–æ 2 —Ñ–∞–π–ª–∞ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å:
- `json-to-csv.js` - –æ–±–µ—Ä–Ω—É—Ç—å `fs` –≤ `if (typeof window === 'undefined')`
- `csv-to-json.js` - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

**–í–ê–ñ–ù–û**: –õ–æ–≥–∏–∫–∞ –ù–ï –º–µ–Ω—è–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–∞—É–∑–µ—Ä/Node.js

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (2 —á–∞—Å–∞)
```javascript
// –ù–û–í–ê–Ø: JSON ‚Üí CSV download
downloadAsCsv(data, filename)

// –ù–û–í–ê–Ø: CSV file ‚Üí JSON
parseCsvFile(file)
```

### –®–∞–≥ 4: –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è (2 —á–∞—Å–∞)
```bash
npm run build     # –°–æ–∑–¥–∞—ë—Ç dist/jtcsv.umd.js
npm version minor # 1.0.0 ‚Üí 1.1.0
npm publish
```

---

## üåê –†–ï–ó–£–õ–¨–¢–ê–¢

### –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
```
dist/jtcsv.umd.js      (~4KB gzipped) - –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
dist/jtcsv.esm.js      (~3KB) - –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```html
<!-- –ß–µ—Ä–µ–∑ CDN -->
<script src="https://cdn.jsdelivr.net/npm/jtcsv@latest/dist/jtcsv.umd.js"></script>

<script>
  // –ü–∞—Ä—Å–∏—Ç—å CSV file
  const json = await jtcsv.parseCsvFile(fileInput.files[0]);
  
  // –°–∫–∞—á–∞—Ç—å –∫–∞–∫ CSV
  jtcsv.downloadAsCsv(jsonData, 'export.csv');
</script>
```

---

## üöÄ FAST PATH (NODE.JS)

–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ CSV‚ÜíJSON –≤ Node.js:

- `useFastPath` (boolean, default: true) ‚Äî –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å fast‚Äëpath –ø–∞—Ä—Å–µ—Ä.
- `fastPathMode` (string, default: 'objects') ‚Äî —Ä–µ–∂–∏–º `'objects'` –∏–ª–∏ `'compact'` (–º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏).
- `fastPathMode: 'stream'` ‚Äî –ø–æ–ª—É—á–∏—Ç—å async iterator –≤–º–µ—Å—Ç–æ –º–∞—Å—Å–∏–≤–∞.

–ë–µ–Ω—á–º–∞—Ä–∫–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏: `BENCHMARK-RESULTS.md`, `docs/PERFORMANCE.md`.

---

## ‚≠ê –ë–û–ù–£–°: WEB WORKERS (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–∞—Ö (>100MB):

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: Comlink (1.1KB, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Google)

```javascript
// Worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏—è UI
const parser = wrap(new Worker('parser.worker.js'));
const json = await parser.csvToJson(csvText);
```

**–ü–ª—é—Å—ã**:
- UI –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º
- –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
- –†–∞–±–æ—Ç–∞–µ—Ç —Å 1GB —Ñ–∞–π–ª–∞–º–∏
- –ü—Ä–æ—Å—Ç–æ–π API (–∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)

---

## üìã –ü–û–õ–ù–´–ô –§–ê–ô–õ

–°–∫–∞—á–∞–π —Ñ–∞–π–ª **`TZ_JTCSV_BROWSER_SUPPORT.md`** - —Ç–∞–º –í–°–ï –¥–µ—Ç–∞–ª–∏:
- –ü–æ–ª–Ω—ã–π Rollup config –≥–æ—Ç–æ–≤ –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é
- –í—Å–µ –∫–æ–¥—ã –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≥–æ—Ç–æ–≤—ã
- –ü—Ä–∏–º–µ—Ä—ã Web Workers
- –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û–ï

### –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å:
- ‚ùå –ú–µ–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É csvToJson/jsonToCsv
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å localStorage (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ sandbox)
- ‚ùå –ú–µ–Ω—è—Ç—å TypeScript –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ß—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ fs –∏ path –æ–±—ë—Ä–Ω—É—Ç—ã –≤ –ø—Ä–æ–≤–µ—Ä–∫—É –±—Ä–∞—É–∑–µ—Ä/Node.js
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ Chrome, Firefox, Safari
- ‚úÖ CSV Injection Protection —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –†–∞–∑–º–µ—Ä UMD <= 30KB
- ‚úÖ TypeScript —Ç–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Rollup
npm install --save-dev rollup @rollup/plugin-node-resolve

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å rollup.config.mjs –∏–∑ –¢–ó

# 3. –û–±–Ω–æ–≤–∏—Ç—å 2 —Ñ–∞–π–ª–∞ (json-to-csv.js, csv-to-json.js)
# (–ö–æ–ø–∏—Ä—É–π –∫–æ–¥ –∏–∑ –¢–ó —Ä–∞–∑–¥–µ–ª–∞ 1.2)

# 4. –°–æ–±—Ä–∞—Ç—å
npm run build

# 5. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
npm version minor
npm publish

# ‚úÖ –ì–û–¢–û–í–û!
```

---

## üìû –í–û–ü–†–û–°–´?

–í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ: **`TZ_JTCSV_BROWSER_SUPPORT.md`**

–¢–∞–º –∂–µ:
- –ü–æ–ª–Ω—ã–µ –∫–æ–¥—ã –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- Rollup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Web Workers –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

**–í—Ä–µ–º—è –Ω–∞—á–∞–ª–æ**: –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°! üöÄ

–£—Å–ø–µ—Ö–æ–≤! üí™





---

## Browser Streaming and Lazy Workers (NEW)

```javascript
import { csvToJsonIterator, parseCsvFileStream } from 'jtcsv-browser';

// Stream a File without full-buffer
for await (const row of parseCsvFileStream(file, { delimiter: ',' })) {
  console.log(row);
}

// Stream any ReadableStream
for await (const row of csvToJsonIterator(stream, { delimiter: ',' })) {
  console.log(row);
}
```

```javascript
import { parseCSVWithWorkerLazy } from 'jtcsv-browser';

// Lazy-load worker pool only when used
const json = await parseCSVWithWorkerLazy(file, {}, (progress) => {
  console.log(progress.percentage);
});
```

Notes:
- `parseCSVWithWorker` accepts `string`, `File`, `ArrayBuffer`, or typed arrays.
- Use streaming for large files to avoid full memory load.

"# jtcsv Browser Edition\n\nРџРѕР»РЅРѕС„СѓРЅРєС†РёРѕРЅР°Р»СЊРЅР°СЏ Р±РёР±Р»РёРѕС‚РµРєР° РґР»СЏ РєРѕРЅРІРµСЂС‚Р°С†РёРё JSON в†” CSV СЃ РїРѕРґРґРµСЂР¶РєРѕР№ Р±СЂР°СѓР·РµСЂР°, Web Workers Рё streaming.\n\n## РћСЃРѕР±РµРЅРЅРѕСЃС‚Рё\n\nвњ… **РџРѕР»РЅР°СЏ Р±СЂР°СѓР·РµСЂРЅР°СЏ РїРѕРґРґРµСЂР¶РєР°** - СЂР°Р±РѕС‚Р°РµС‚ РІ Chrome, Firefox, Safari, Edge \nвњ… **Web Workers** - РѕР±СЂР°Р±РѕС‚РєР° Р±РѕР»СЊС€РёС… С„Р°Р№Р»РѕРІ Р±РµР· Р±Р»РѕРєРёСЂРѕРІРєРё UI \nвњ… **Streaming API** - СЂР°Р±РѕС‚Р° СЃ С„Р°Р№Р»Р°РјРё Р»СЋР±РѕРіРѕ СЂР°Р·РјРµСЂР° \nвњ… **CSV Injection Protection** - РІСЃС‚СЂРѕРµРЅРЅР°СЏ Р·Р°С‰РёС‚Р° РѕС‚ РёРЅСЉРµРєС†РёР№ \nвњ… **TypeScript РїРѕРґРґРµСЂР¶РєР°** - РїРѕР»РЅР°СЏ С‚РёРїРёР·Р°С†РёСЏ \nвњ… **Zero-deps core** - РЅРёРєР°РєРёС… Р·Р°РІРёСЃРёРјРѕСЃС‚РµР№ \nвњ… **РњСѓР»СЊС‚РёС„РѕСЂРјР°С‚** - CSV, TSV, Excel СЃРѕРІРјРµСЃС‚РёРјРѕСЃС‚СЊ \nвњ… **Р’С‹СЃРѕРєР°СЏ РїСЂРѕРёР·РІРѕРґРёС‚РµР»СЊРЅРѕСЃС‚СЊ** - РѕРїС‚РёРјРёР·РёСЂРѕРІР°РЅРЅС‹Рµ Р°Р»РіРѕСЂРёС‚РјС‹\n\n## РЈСЃС‚Р°РЅРѕРІРєР°\n\n### Р§РµСЂРµР· npm\n`bash\nnpm install jtcsv-browser\n`\n\n### Р§РµСЂРµР· CDN\n`html\n<script src=\"https://cdn.jsdelivr.net/npm/jtcsv-browser@latest/dist/jtcsv.umd.js\"></script>\n`\n\n## Р‘С‹СЃС‚СЂС‹Р№ СЃС‚Р°СЂС‚\n\n### РљРѕРЅРІРµСЂС‚Р°С†РёСЏ JSON РІ CSV\n`javascript\nimport { downloadAsCsv } from 'jtcsv-browser';\n\nconst data = [\n  { id: 1, name: 'John', email: 'john@example.com' },\n  { id: 2, name: 'Jane', email: 'jane@example.com' }\n];\n\n// РЎРєР°С‡Р°С‚СЊ РєР°Рє CSV С„Р°Р№Р»\ndownloadAsCsv(data, 'users.csv', { delimiter: ',' });\n\n// РР»Рё РїРѕР»СѓС‡РёС‚СЊ CSV СЃС‚СЂРѕРєСѓ\nimport { jsonToCsv } from 'jtcsv-browser';\nconst csvString = jsonToCsv(data, { delimiter: ',' });\n`\n\n### РџР°СЂСЃРёРЅРі CSV РІ JSON\n`javascript\nimport { parseCsvFile } from 'jtcsv-browser';\n\n// РР· С„Р°Р№Р»Р° input\nconst fileInput = document.querySelector('input[type=\"file\"]');\nconst jsonData = await parseCsvFile(fileInput.files[0], {\n  delimiter: ',',\n  parseNumbers: true\n});\n\n// РР»Рё РёР· СЃС‚СЂРѕРєРё\nimport { csvToJson } from 'jtcsv-browser';\nconst csvString = 'id,name\\n1,John\\n2,Jane';\nconst jsonData = csvToJson(csvString, { delimiter: ',' });\n`\n\n### РСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ Web Workers РґР»СЏ Р±РѕР»СЊС€РёС… С„Р°Р№Р»РѕРІ\n``javascript\nimport { parseCSVWithWorker } from 'jtcsv-browser';\n\nconst file = document.querySelector('input[type=\"file\"]').files[0];\n\n// РџР°СЂСЃРёРЅРі СЃ РїСЂРѕРіСЂРµСЃСЃ-Р±Р°СЂРѕРј\nconst jsonData = await parseCSVWithWorker(file, {}, (progress) => {\n  console.log(`РћР±СЂР°Р±РѕС‚Р°РЅРѕ: ${progress.processed}/${progress.total} СЃС‚СЂРѕРє`);\n  console.log(`РџСЂРѕРіСЂРµСЃСЃ: ${progress.percentage.toFixed(1)}%`);\n});\n``\n\n## API Reference\n\n### РћСЃРЅРѕРІРЅС‹Рµ С„СѓРЅРєС†РёРё\n\n#### `jsonToCsv(data, options)`\nРљРѕРЅРІРµСЂС‚РёСЂСѓРµС‚ РјР°СЃСЃРёРІ РѕР±СЉРµРєС‚РѕРІ РІ CSV СЃС‚СЂРѕРєСѓ.\n\n**РџР°СЂР°РјРµС‚СЂС‹:**\n- `data`: Array<Object> - РјР°СЃСЃРёРІ РѕР±СЉРµРєС‚РѕРІ\n- `options`: Object - РѕРїС†РёРё РєРѕРЅРІРµСЂС‚Р°С†РёРё\n - `delimiter`: string (default: ';') - СЂР°Р·РґРµР»РёС‚РµР»СЊ\n - `includeHeaders`: boolean (default: true) - РІРєР»СЋС‡Р°С‚СЊ Р·Р°РіРѕР»РѕРІРєРё\n - `preventCsvInjection`: boolean (default: true) - Р·Р°С‰РёС‚Р° РѕС‚ РёРЅСЉРµРєС†РёР№\n - `rfc4180Compliant`: boolean (default: true) - СЃРѕРѕС‚РІРµС‚СЃС‚РІРёРµ RFC 4180\n\n#### `csvToJson(csv, options)`\n???????????? CSV ?????? ? ?????? ????????.\n\n**?????????:**\n- `csv`: string - CSV ??????\n- `options`: Object - ????? ????????\n - `delimiter`: string - ??????????? (??????????????? ?? ?????????)\n - `hasHeaders`: boolean (default: true) - ???? ?? ?????????\n - `parseNumbers`: boolean (default: false) - ??????? ?????\n - `parseBooleans`: boolean (default: false) - ??????? ?????? ????????\n - `useFastPath`: boolean (default: true) - ??????? ?????? (Node.js ??????)\n - `fastPathMode`: string (default: 'objects') - objects ??? compact (Node.js ??????)\n\n??????????: Fast Path ???????? ? Node.js ??????. ? ???????? ???????????? ??????????? ??????.\n\n#### `downloadAsCsv(data, filename, options)`\nРљРѕРЅРІРµСЂС‚РёСЂСѓРµС‚ Рё СЃРєР°С‡РёРІР°РµС‚ JSON РєР°Рє CSV С„Р°Р№Р».\n\n#### `parseCsvFile(file, options)`\nРџР°СЂСЃРёС‚ CSV С„Р°Р№Р» (File object) РІ JSON.\n\n### Web Workers API\n\n#### `createWorkerPool(options)`\nРЎРѕР·РґР°РµС‚ pool Web Workers РґР»СЏ РїР°СЂР°Р»Р»РµР»СЊРЅРѕР№ РѕР±СЂР°Р±РѕС‚РєРё.\n\n**РџР°СЂР°РјРµС‚СЂС‹:**\n- `options`: Object\n - `workerCount`: number (default: 4) - РєРѕР»РёС‡РµСЃС‚РІРѕ workers\n - `maxQueueSize`: number (default: 100) - РјР°РєСЃРёРјР°Р»СЊРЅС‹Р№ СЂР°Р·РјРµСЂ РѕС‡РµСЂРµРґРё\n - `autoScale`: boolean (default: true) - Р°РІС‚РѕРјР°СЃС€С‚Р°Р±РёСЂРѕРІР°РЅРёРµ\n\n#### `parseCSVWithWorker(csvInput, options, onProgress)`\nРџР°СЂСЃРёС‚ CSV СЃ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµРј Web Workers.\n\n**РџР°СЂР°РјРµС‚СЂС‹:**\n- `csvInput`: string | File - CSV СЃС‚СЂРѕРєР° РёР»Рё File РѕР±СЉРµРєС‚\n- `options`: Object - РѕРїС†РёРё РїР°СЂСЃРёРЅРіР°\n- `onProgress`: Function - callback РїСЂРѕРіСЂРµСЃСЃР°\n\n## РџСЂРёРјРµСЂС‹ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёСЏ\n\n### React РєРѕРјРїРѕРЅРµРЅС‚\n`jsx\nimport React, { useState } from 'react';\nimport { parseCsvFile, downloadAsCsv } from 'jtcsv-browser';\n\nexport function CSVProcessor() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  \n  const handleFileUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    \n    setLoading(true);\n    try {\n      const jsonData = await parseCsvFile(file, {\n        delimiter: ',',\n        parseNumbers: true\n      });\n      setData(jsonData);\n    } catch (error) {\n      console.error('Error parsing CSV:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const handleExport = () => {\n    downloadAsCsv(data, 'export.csv', { delimiter: ',' });\n  };\n  \n  return (\n    <div>\n      <input type=\"file\" accept=\".csv\" onChange={handleFileUpload} />\n      <button onClick={handleExport} disabled={!data.length}>\n        Export to CSV\n      </button>\n      {loading && <div>Processing...</div>}\n      <pre>{JSON.stringify(data.slice(0, 5), null, 2)}</pre>\n    </div>\n  );\n}\n`\n\n### РћР±СЂР°Р±РѕС‚РєР° Р±РѕР»СЊС€РёС… С„Р°Р№Р»РѕРІ СЃ РїСЂРѕРіСЂРµСЃСЃ-Р±Р°СЂРѕРј\n``javascript\nimport { parseCSVWithWorker } from 'jtcsv-browser';\n\nasync function processLargeFile(file) {\n  const progressBar = document.getElementById('progress-bar');\n  const status = document.getElementById('status');\n  \n  try {\n    status.textContent = 'Processing...';\n    \n    const result = await parseCSVWithWorker(file, {}, (progress) => {\n      const percent = Math.round(progress.percentage);\n      progressBar.style.width = percent + '%';\n      progressBar.textContent = percent + '%';\n      \n      if (progress.speed) {\n        status.textContent = \n          `Processing: ${progress.processed.toLocaleString()} of ${progress.total.toLocaleString()} rows ` +\n          `(${Math.round(progress.speed)} rows/sec)`;\n      }\n    });\n    \n    status.textContent = `Processed ${result.length.toLocaleString()} rows successfully`;\n    return result;\n  } catch (error) {\n    status.textContent = `Error: ${error.message}`;\n    throw error;\n  }\n}\n``\n\n## Р‘РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ\n\n### CSV Injection Protection\nР‘РёР±Р»РёРѕС‚РµРєР° Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРё СЌРєСЂР°РЅРёСЂСѓРµС‚ С„РѕСЂРјСѓР»С‹ Excel РґР»СЏ РїСЂРµРґРѕС‚РІСЂР°С‰РµРЅРёСЏ РёРЅСЉРµРєС†РёР№:\n\n`javascript\nconst dangerousData = [\n  { formula: '=SUM(1,2)', command: '=cmd|\"/c calc\"!A1' }\n];\n\nconst csv = jsonToCsv(dangerousData, { preventCsvInjection: true });\n// Р РµР·СѓР»СЊС‚Р°С‚: 'formula,command\\n\"\'=SUM(1,2)\",\"\'=cmd|\\\"/c calc\\\"!A1\"'\n// Р¤РѕСЂРјСѓР»С‹ СЌРєСЂР°РЅРёСЂРѕРІР°РЅС‹ РѕРґРёРЅРѕС‡РЅРѕР№ РєР°РІС‹С‡РєРѕР№\n`\n\n## РџСЂРѕРёР·РІРѕРґРёС‚РµР»СЊРЅРѕСЃС‚СЊ\n\n### Р‘РµРЅС‡РјР°СЂРєРё\n\n| Р Р°Р·РјРµСЂ С„Р°Р№Р»Р° | Р‘РµР· Workers | РЎ Workers | РЈР»СѓС‡С€РµРЅРёРµ |\n|--------------|-------------|-----------|-----------|\n| 10MB (100K СЃС‚СЂРѕРє) | 3.2 СЃРµРє | 2.1 СЃРµРє | 34% Р±С‹СЃС‚СЂРµРµ |\n| 100MB (1M СЃС‚СЂРѕРє) | 45 СЃРµРє | 28 СЃРµРє | 38% Р±С‹СЃС‚СЂРµРµ |\n| 500MB (5M СЃС‚СЂРѕРє) | 120 СЃРµРє | 65 СЃРµРє | 46% Р±С‹СЃС‚СЂРµРµ |\n\nNode.js ????????? ? fast-path ???????: ??. BENCHMARK-RESULTS.md ? docs/PERFORMANCE.md\n\n### РћРїС‚РёРјРёР·Р°С†РёРё\n1. **РљРµС€РёСЂРѕРІР°РЅРёРµ** - РїРѕРІС‚РѕСЂРЅС‹Р№ РїР°СЂСЃРёРЅРі С‚РѕРіРѕ Р¶Рµ С„Р°Р№Р»Р° РјРіРЅРѕРІРµРЅРЅС‹Р№\n2. **Streaming** - РѕР±СЂР°Р±РѕС‚РєР° РїРѕ chunks Р±РµР· Р·Р°РіСЂСѓР·РєРё РІСЃРµРіРѕ С„Р°Р№Р»Р° РІ РїР°РјСЏС‚СЊ\n3. **Worker Pool** - РїРµСЂРµРёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ workers РґР»СЏ РјРёРЅРёРјРёР·Р°С†РёРё overhead\n4. **Progress reporting** - РґРµС‚Р°Р»СЊРЅР°СЏ РёРЅС„РѕСЂРјР°С†РёСЏ Рѕ РїСЂРѕРіСЂРµСЃСЃРµ РѕР±СЂР°Р±РѕС‚РєРё\n\n## РЎРѕРІРјРµСЃС‚РёРјРѕСЃС‚СЊ\n\n### Р‘СЂР°СѓР·РµСЂС‹\n- Chrome 60+\n- Firefox 55+\n- Safari 11+\n- Edge 79+\n- Mobile browsers (iOS, Android)\n\n### Р¤СЂРµР№РјРІРѕСЂРєРё\n- React 16.8+\n- Vue 2/3\n- Angular 10+\n- Svelte\n- SolidJS\n\n## Р›РёС†РµРЅР·РёСЏ\n\nMIT License\n\n## РџРѕРґРґРµСЂР¶РєР°\n\n- GitHub Issues: https://github.com/Linol-Hamelton/jtcsv/issues\n- Р”РѕРєСѓРјРµРЅС‚Р°С†РёСЏ: https://github.com/Linol-Hamelton/jtcsv#readme\n- РџСЂРёРјРµСЂС‹: https://github.com/Linol-Hamelton/jtcsv/tree/main/examples\n"





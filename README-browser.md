"# jtcsv Browser Edition\n\nПолнофункциональная библиотека для конвертации JSON ↔ CSV с поддержкой браузера, Web Workers и streaming.\n\n## Особенности\n\n✅ **Полная браузерная поддержка** - работает в Chrome, Firefox, Safari, Edge \n✅ **Web Workers** - обработка больших файлов без блокировки UI \n✅ **Streaming API** - работа с файлами любого размера \n✅ **CSV Injection Protection** - встроенная защита от инъекций \n✅ **TypeScript поддержка** - полная типизация \n✅ **Zero dependencies** - никаких зависимостей \n✅ **Мультиформат** - CSV, TSV, Excel совместимость \n✅ **Высокая производительность** - оптимизированные алгоритмы\n\n## Установка\n\n### Через npm\n`bash\nnpm install jtcsv-browser\n`\n\n### Через CDN\n`html\n<script src=\"https://cdn.jsdelivr.net/npm/jtcsv-browser@latest/dist/jtcsv.umd.js\"></script>\n`\n\n## Быстрый старт\n\n### Конвертация JSON в CSV\n`javascript\nimport { downloadAsCsv } from 'jtcsv-browser';\n\nconst data = [\n  { id: 1, name: 'John', email: 'john@example.com' },\n  { id: 2, name: 'Jane', email: 'jane@example.com' }\n];\n\n// Скачать как CSV файл\ndownloadAsCsv(data, 'users.csv', { delimiter: ',' });\n\n// Или получить CSV строку\nimport { jsonToCsv } from 'jtcsv-browser';\nconst csvString = jsonToCsv(data, { delimiter: ',' });\n`\n\n### Парсинг CSV в JSON\n`javascript\nimport { parseCsvFile } from 'jtcsv-browser';\n\n// Из файла input\nconst fileInput = document.querySelector('input[type=\"file\"]');\nconst jsonData = await parseCsvFile(fileInput.files[0], {\n  delimiter: ',',\n  parseNumbers: true\n});\n\n// Или из строки\nimport { csvToJson } from 'jtcsv-browser';\nconst csvString = 'id,name\\n1,John\\n2,Jane';\nconst jsonData = csvToJson(csvString, { delimiter: ',' });\n`\n\n### Использование Web Workers для больших файлов\n``javascript\nimport { parseCSVWithWorker } from 'jtcsv-browser';\n\nconst file = document.querySelector('input[type=\"file\"]').files[0];\n\n// Парсинг с прогресс-баром\nconst jsonData = await parseCSVWithWorker(file, {}, (progress) => {\n  console.log(`Обработано: ${progress.processed}/${progress.total} строк`);\n  console.log(`Прогресс: ${progress.percentage.toFixed(1)}%`);\n});\n``\n\n## API Reference\n\n### Основные функции\n\n#### `jsonToCsv(data, options)`\nКонвертирует массив объектов в CSV строку.\n\n**Параметры:**\n- `data`: Array<Object> - массив объектов\n- `options`: Object - опции конвертации\n - `delimiter`: string (default: ';') - разделитель\n - `includeHeaders`: boolean (default: true) - включать заголовки\n - `preventCsvInjection`: boolean (default: true) - защита от инъекций\n - `rfc4180Compliant`: boolean (default: true) - соответствие RFC 4180\n\n#### `csvToJson(csv, options)`\n???????????? CSV ?????? ? ?????? ????????.\n\n**?????????:**\n- `csv`: string - CSV ??????\n- `options`: Object - ????? ????????\n - `delimiter`: string - ??????????? (??????????????? ?? ?????????)\n - `hasHeaders`: boolean (default: true) - ???? ?? ?????????\n - `parseNumbers`: boolean (default: false) - ??????? ?????\n - `parseBooleans`: boolean (default: false) - ??????? ?????? ????????\n - `useFastPath`: boolean (default: true) - ??????? ?????? (Node.js ??????)\n - `fastPathMode`: string (default: 'objects') - objects ??? compact (Node.js ??????)\n\n??????????: Fast Path ???????? ? Node.js ??????. ? ???????? ???????????? ??????????? ??????.\n\n#### `downloadAsCsv(data, filename, options)`\nКонвертирует и скачивает JSON как CSV файл.\n\n#### `parseCsvFile(file, options)`\nПарсит CSV файл (File object) в JSON.\n\n### Web Workers API\n\n#### `createWorkerPool(options)`\nСоздает pool Web Workers для параллельной обработки.\n\n**Параметры:**\n- `options`: Object\n - `workerCount`: number (default: 4) - количество workers\n - `maxQueueSize`: number (default: 100) - максимальный размер очереди\n - `autoScale`: boolean (default: true) - автомасштабирование\n\n#### `parseCSVWithWorker(csvInput, options, onProgress)`\nПарсит CSV с использованием Web Workers.\n\n**Параметры:**\n- `csvInput`: string | File - CSV строка или File объект\n- `options`: Object - опции парсинга\n- `onProgress`: Function - callback прогресса\n\n## Примеры использования\n\n### React компонент\n`jsx\nimport React, { useState } from 'react';\nimport { parseCsvFile, downloadAsCsv } from 'jtcsv-browser';\n\nexport function CSVProcessor() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  \n  const handleFileUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    \n    setLoading(true);\n    try {\n      const jsonData = await parseCsvFile(file, {\n        delimiter: ',',\n        parseNumbers: true\n      });\n      setData(jsonData);\n    } catch (error) {\n      console.error('Error parsing CSV:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const handleExport = () => {\n    downloadAsCsv(data, 'export.csv', { delimiter: ',' });\n  };\n  \n  return (\n    <div>\n      <input type=\"file\" accept=\".csv\" onChange={handleFileUpload} />\n      <button onClick={handleExport} disabled={!data.length}>\n        Export to CSV\n      </button>\n      {loading && <div>Processing...</div>}\n      <pre>{JSON.stringify(data.slice(0, 5), null, 2)}</pre>\n    </div>\n  );\n}\n`\n\n### Обработка больших файлов с прогресс-баром\n``javascript\nimport { parseCSVWithWorker } from 'jtcsv-browser';\n\nasync function processLargeFile(file) {\n  const progressBar = document.getElementById('progress-bar');\n  const status = document.getElementById('status');\n  \n  try {\n    status.textContent = 'Processing...';\n    \n    const result = await parseCSVWithWorker(file, {}, (progress) => {\n      const percent = Math.round(progress.percentage);\n      progressBar.style.width = percent + '%';\n      progressBar.textContent = percent + '%';\n      \n      if (progress.speed) {\n        status.textContent = \n          `Processing: ${progress.processed.toLocaleString()} of ${progress.total.toLocaleString()} rows ` +\n          `(${Math.round(progress.speed)} rows/sec)`;\n      }\n    });\n    \n    status.textContent = `Processed ${result.length.toLocaleString()} rows successfully`;\n    return result;\n  } catch (error) {\n    status.textContent = `Error: ${error.message}`;\n    throw error;\n  }\n}\n``\n\n## Безопасность\n\n### CSV Injection Protection\nБиблиотека автоматически экранирует формулы Excel для предотвращения инъекций:\n\n`javascript\nconst dangerousData = [\n  { formula: '=SUM(1,2)', command: '=cmd|\"/c calc\"!A1' }\n];\n\nconst csv = jsonToCsv(dangerousData, { preventCsvInjection: true });\n// Результат: 'formula,command\\n\"\'=SUM(1,2)\",\"\'=cmd|\\\"/c calc\\\"!A1\"'\n// Формулы экранированы одиночной кавычкой\n`\n\n## Производительность\n\n### Бенчмарки\n\n| Размер файла | Без Workers | С Workers | Улучшение |\n|--------------|-------------|-----------|-----------|\n| 10MB (100K строк) | 3.2 сек | 2.1 сек | 34% быстрее |\n| 100MB (1M строк) | 45 сек | 28 сек | 38% быстрее |\n| 500MB (5M строк) | 120 сек | 65 сек | 46% быстрее |\n\nNode.js ????????? ? fast-path ???????: ??. BENCHMARK-RESULTS.md ? docs/PERFORMANCE.md\n\n### Оптимизации\n1. **Кеширование** - повторный парсинг того же файла мгновенный\n2. **Streaming** - обработка по chunks без загрузки всего файла в память\n3. **Worker Pool** - переиспользование workers для минимизации overhead\n4. **Progress reporting** - детальная информация о прогрессе обработки\n\n## Совместимость\n\n### Браузеры\n- Chrome 60+\n- Firefox 55+\n- Safari 11+\n- Edge 79+\n- Mobile browsers (iOS, Android)\n\n### Фреймворки\n- React 16.8+\n- Vue 2/3\n- Angular 10+\n- Svelte\n- SolidJS\n\n## Лицензия\n\nMIT License\n\n## Поддержка\n\n- GitHub Issues: https://github.com/Linol-Hamelton/jtcsv/issues\n- Документация: https://github.com/Linol-Hamelton/jtcsv#readme\n- Примеры: https://github.com/Linol-Hamelton/jtcsv/tree/main/examples\n"



